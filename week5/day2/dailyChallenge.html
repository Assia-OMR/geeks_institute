<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Random Giphy Search</title>
</head>
<body>
  <form id="gifForm">
    <input type="text" id="searchInput" placeholder="Enter a category..." required>
    <button type="submit">Get Random GIF</button>
  </form>

  <button id="deleteAll">DELETE ALL</button>

  <div id="gifContainer"></div>

  <script>
    const apiKey = "hpvZycW22qCjn5cRM1xtWB8NKq4dQ2My";
    const form = document.getElementById("gifForm");
    const input = document.getElementById("searchInput");
    const container = document.getElementById("gifContainer");
    const deleteAllBtn = document.getElementById("deleteAll");

    form.addEventListener("submit", async (e) => {
    e.preventDefault(); 
    const searchTerm = input.value.trim();
    if (!searchTerm) return;

    try {
        const url = `https://api.giphy.com/v1/gifs/random?api_key=${apiKey}&tag=${searchTerm}&rating=g`;
        const response = await fetch(url);

        if (!response.ok) {
        throw new Error(`HTTP error! Status: ${response.status}`);
        }

        const data = await response.json();

        const gifUrl = data.data.images.original.url;

        const gifDiv = document.createElement("div");
        const img = document.createElement("img");
        const deleteBtn = document.createElement("button");

        img.src = gifUrl;
        img.alt = searchTerm;
        img.width = 200;

        deleteBtn.textContent = "DELETE";

        deleteBtn.addEventListener("click", () => gifDiv.remove());

        gifDiv.appendChild(img);
        gifDiv.appendChild(deleteBtn);
        container.appendChild(gifDiv);

    } catch (error) {
        console.error("Fetch error:", error);
    }

    // Clear input
    input.value = "";
    });

    // DELETE ALL button
    deleteAllBtn.addEventListener("click", () => {
    container.innerHTML = "";
    });

  </script>
</body>
</html>
